<!DOCTYPE html>
<html>
<head>
    <title>Sirvi Raspberry Pi Monitor</title>
    <meta http-equiv="refresh" content="5">
</head>
<body style="font-family:Arial; padding:20px;">
<h1>Raspberry Pi System Monitor</h1>

<div>
    <p><b>Temperature:</b> <span id="temp"></span> Â°C</p>
    <p><b>Total RAM:</b> <span id="tram"></span> MB</p>
    <p><b>Used RAM:</b> <span id="uram"></span> MB</p>
    <p><b>RAM Usage:</b> <span id="ramp"></span> %</p>

    <p><b>Total Disk:</b> <span id="tdisk"></span> GB</p>
    <p><b>Used Disk:</b> <span id="udisk"></span> GB</p>
    <p><b>Disk Usage:</b> <span id="diskp"></span> %</p>

    <p><b>Fan State:</b> <span id="fan"></span></p>
</div>

<button onclick="fanOn()">Turn Fan ON</button>
<button onclick="fanOff()">Turn Fan OFF</button>

<script>
function loadData() {
    fetch('/api/data')
    .then(res => res.json())
    .then(data => {
        document.getElementById("temp").innerText = data.temperature;
        document.getElementById("tram").innerText = data.total_ram;
        document.getElementById("uram").innerText = data.used_ram;
        document.getElementById("ramp").innerText = data.ram_percent;

        document.getElementById("tdisk").innerText = data.total_disk;
        document.getElementById("udisk").innerText = data.used_disk;
        document.getElementById("diskp").innerText = data.disk_percent;

        document.getElementById("fan").innerText = data.fan_state ? "ON" : "OFF";
    });
}

setInterval(loadData, 2000);
loadData();

function fanOn() { fetch('/fan/on'); }
function fanOff() { fetch('/fan/off'); }
</script>

</body>
</html>
